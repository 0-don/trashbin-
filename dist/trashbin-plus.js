(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(t=>setTimeout(t,10));var j,n,U,o,a,M,l,B,i,s,t,e,r,c,d,u,p,f,b,z,m,H,g,F,y,h,S,v,E,w,T,K,O,W,J,x,R,q,G,V,k,A,Q,Y,X,Z,$,N,C,I,L,tt,et,rt,P,at,it;function nt(t,e,r){var a;if(!t||!t.uri)return 1;if(e[t.uri])return 1;var i,n,o=new Set;for(i of t.artists||[])i&&i.uri&&o.add(i.uri);null!=(e=t.metadata)&&e.artist_uri&&o.add(t.metadata.artist_uri);let l=1;for(;null!=(a=t.metadata)&&a["artist_uri:"+l];)o.add(t.metadata["artist_uri:"+l]),l++;for(n of o)if(r[n])return 1}async function ot(){var t,e=O.getState(),r=Spicetify.Player.data;if(null!=(t=null==r?void 0:r.context)&&t.uri&&e.reshuffleOnSkip){var a,i=r.context.uri;for(a of r.nextItems||(null==(t=Spicetify.Queue)?void 0:t.nextTracks)||[])if(!nt(a,e.trashSongList,e.trashArtistList))try{return void await Spicetify.Player.playUri(i,{},{skipTo:{uri:a.uri,uid:a.uid}})}catch(t){}}Spicetify.Player.next()}function lt(r,t){var a,i,n=null==(a=Spicetify.Player.data)?void 0:a.item;if(n){if(t===Spicetify.URI.Type.TRACK)return r===n.uri;if(t===Spicetify.URI.Type.ARTIST){let t=0,e=null==(a=n.metadata)?void 0:a.artist_uri;for(;e;){if(r===e)return 1;t++,e=null==(i=n.metadata)?void 0:i["artist_uri:"+t]}}}}function _(t,e){var r;try{var a=Spicetify.LocalStorage.get(t);return a&&null!=(r=JSON.parse(a))?r:e}catch(t){return e}}function st(t,e){if(null==t)return{};var r,a=((t,e)=>{if(null==t)return{};var r,a={};for(r in t)!Object.prototype.hasOwnProperty.call(t,r)||0<=e.indexOf(r)||(a[r]=t[r]);return a})(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),n=0;n<i.length;n++)r=i[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r]);return a}function ct(){return(ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r,a=arguments[e];for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t}).apply(this,arguments)}function dt(e,t){var r,a=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)),a}function D(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(i),!0).forEach(function(t){var e,r;e=a,r=i[t=t],(t=(t=>"symbol"==typeof(t=((t,e)=>{if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);if("object"!=typeof(r=r.call(t,e||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"))?t:t+"")(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):dt(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function ut(e){return t=>x.default.createElement(pt,ct({attr:D({},e.attr)},t),function r(t){return t&&t.map((t,e)=>x.default.createElement(t.tag,D({key:e},t.attr),r(t.child)))}(e.child))}function pt(o){var e=t=>{var e,{attr:r,size:a,title:i}=o,n=st(o,V),a=a||t.size||"1em";return t.className&&(e=t.className),o.className&&(e=(e?e+" ":"")+o.className),x.default.createElement("svg",ct({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,n,{className:e,style:D(D({color:o.color||t.color},t.style),o.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&x.default.createElement("title",null,i),o.children)};return void 0!==G?x.default.createElement(G.Consumer,null,t=>e(t)):e(q)}function ft(t){return ut({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}function bt(){let{handleTrashToggle:e,shouldAddContextMenu:r,getContextMenuLabel:a}=W(),i=(0,u.useRef)(null),n=t=>{var e=r(t);return e&&i.current&&(i.current.name=a(t[0])),e};return(0,u.useEffect)(()=>{let t=new Spicetify.ContextMenu.Item(p.THROW,e,n,k(15));return(i.current=t).register(),()=>t.deregister()},[e,n]),null}function mt(...t){return t.filter(Boolean).join(" ")}function gt(){let[t,r]=(0,N.useState)(!1);return(0,N.useEffect)(()=>{let t=new Spicetify.Menu.Item(f.TRASHBIN,!1,()=>r(!0),k(15));return t.register(),()=>t.deregister()},[]),(0,N.useEffect)(()=>{if(t){let t=document.createElement("div"),e=(C.default.render(N.default.createElement(tt,null),t),Spicetify.PopupModal.display({title:f.SETTINGS,content:t}),new MutationObserver(()=>{document.querySelector(".main-trackCreditsModal-container")||(r(!1),C.default.unmountComponentAtNode(t))}));return e.observe(document.body,{childList:!0,subtree:!0}),()=>{e.disconnect(),C.default.unmountComponentAtNode(t)}}},[t]),null}function yt(){let i=O();return(0,c.useEffect)(()=>{i.initializeFromStorage()},[i.initializeFromStorage]),(0,c.useEffect)(()=>{i.autoplayOnStart&&!Spicetify.Player.isPlaying()&&Spicetify.Player.play()},[i.autoplayOnStart]),(0,c.useEffect)(()=>{var a;if(i.trashbinEnabled){let t=null!=(a=document.querySelector(".main-skipBackButton-button"))?a:document.querySelector(".player-controls__left > button[data-encore-id='buttonTertiary']"),e=()=>i.setUserHitBack(!0),r=()=>{var t=null==(t=Spicetify.Player.data)?void 0:t.item,e=O.getState();e.userHitBack?i.setUserHitBack(!1):nt(t,e.trashSongList,e.trashArtistList)&&ot()};return null!=t&&t.addEventListener("click",e),Spicetify.Player.addEventListener("songchange",r),()=>{null!=t&&t.removeEventListener("click",e),Spicetify.Player.removeEventListener("songchange",r)}}},[i.trashbinEnabled,i.setUserHitBack,ot]),c.default.createElement(c.default.Fragment,null,c.default.createElement(at,null),c.default.createElement(gt,null),c.default.createElement(bt,null),c.default.createElement(rt,null),c.default.createElement($,null))}j=Object.create,n=Object.defineProperty,U=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,i=(t,e,r)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s=(t,e)=>{for(var r in e=e||{})l.call(e,r)&&i(t,r,e[r]);if(a)for(var r of a(e))B.call(e,r)&&i(t,r,e[r]);return t},e=(t,e,r)=>(r=null!=t?j(M(t)):{},((e,r,a,i)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let t of o(r))l.call(e,t)||t===a||n(e,t,{get:()=>r[t],enumerable:!(i=U(r,t))||i.enumerable});return e})(!e&&t&&t.__esModule?r:n(r,"default",{value:t,enumerable:!0}),t)),r=(t=(t,e)=>function(){return e||(0,t[o(t)[0]])((e={exports:{}}).exports,e),e.exports})({"external-global-plugin:react"(t,e){e.exports=Spicetify.React}}),t=t({"external-global-plugin:react-dom"(t,e){e.exports=Spicetify.ReactDOM}}),c=e(r()),d=e(t()),u=e(r()),p={THROW:"Place in Trashbin",UNTHROW:"Remove from Trashbin",COPIED:"Copied to clipboard",BACKUP_SAVED_SUCCESS:"Backup saved successfully.",BACKUP_SAVED_FAILED:"Failed to save backup, try copying trashbin contents to clipboard and creating a backup manually.",BACKUP_RESTORED_SUCCESS:"Backup restored successfully.",BACKUP_RESTORED_FAILED:"Failed to restore backup, try importing trashbin contents from a file manually.",BACKUP_RESTORED_FAILED_FILE_READ:"Failed to read file, please ensure it is a valid JSON file.",TRASHBIN_CLEARED:"Trashbin cleared successfully!",SONG_REMOVED:"Song removed from trashbin",SONG_ADDED:"Song added to trashbin",ARTIST_REMOVED:"Artist removed from trashbin",ARTIST_ADDED:"Artist added to trashbin"},f={TRASHBIN:"Trashbin+",SETTINGS:"Trashbin+ Settings",SUGGESTED_NAME:"spicetify-trashbin.json",ENABLED:"Enabled",SHOW_WIDGET_ICON:"Show Widget Icon",AUTOPLAY_ON_START:"Autoplay on Start",QUEUE_TRASHBIN:"Enable Queue Trashbin",TRACKLIST_TRASHBIN:"Enable Tracklist Trashbin",RESHUFFLE_ON_SKIP:"Skip to Next Non-Trashed & Reshuffle Queue",OPTIONS:"Options",FEATURES:"Features",LOCAL_STORAGE:"Local Storage",COPY:"Copy",EXPORT:"Export",IMPORT:"Import",CLEAR:"Clear",COPY_DESCRIPTION:"Copy all items in trashbin to clipboard.",EXPORT_DESCRIPTION:"Save all items in trashbin to a .json file.",IMPORT_DESCRIPTION:"Overwrite all items in trashbin via .json file.",CLEAR_DESCRIPTION:"Clear all items from trashbin (cannot be reverted)."},b=t=>{let a,i=new Set;var e=(t,r)=>{t="function"==typeof t?t(a):t;if(!Object.is(t,a)){let e=a;a=(null!=r?r:"object"!=typeof t||null===t)?t:Object.assign({},a,t),i.forEach(t=>t(a,e))}},r=()=>a,n={setState:e,getState:r,getInitialState:()=>o,subscribe:t=>(i.add(t),()=>i.delete(t))};let o=a=t(e,r,n);return n},z=t=>t?b(t):b,m=e(r(),1),H=t=>t,g=t=>{let a=z(t);t=t=>{return[e,r=H]=[a,t],t=m.default.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState())),m.default.useDebugValue(t),t;var e,r};return Object.assign(t,a),t},F=/spotify:track:([a-zA-Z0-9]+)/,y="trashbin-enabled",h="TrashbinWidgetIcon",S="TrashSongList",v="TrashArtistList",E="trashbin-autoplay-on-start",w="trashbin-queue-enabled",T="trashbin-tracklist-enabled",K="trashbin-reshuffle-on-skip",O=(R=(i,n)=>({trashbinEnabled:!0,widgetEnabled:!0,autoplayOnStart:!1,queueTrashbinEnabled:!0,tracklistTrashbinEnabled:!0,reshuffleOnSkip:!1,trashSongList:{},trashArtistList:{},userHitBack:!1,initializeFromStorage:()=>{i({trashbinEnabled:_(y,!0),widgetEnabled:_(h,!0),trashSongList:_(S,{}),trashArtistList:_(v,{}),autoplayOnStart:_(E,!1),queueTrashbinEnabled:_(w,!0),tracklistTrashbinEnabled:_(T,!0),reshuffleOnSkip:_(K,!1)})},setTrashbinEnabled:t=>{i({trashbinEnabled:t}),Spicetify.LocalStorage.set(y,JSON.stringify(t))},setWidgetEnabled:t=>{i({widgetEnabled:t}),Spicetify.LocalStorage.set(h,JSON.stringify(t))},setAutoplayOnStart:t=>{i({autoplayOnStart:t}),Spicetify.LocalStorage.set(E,JSON.stringify(t))},setQueueTrashbinEnabled:t=>{i({queueTrashbinEnabled:t}),Spicetify.LocalStorage.set(w,JSON.stringify(t))},setTracklistTrashbinEnabled:t=>{i({tracklistTrashbinEnabled:t}),Spicetify.LocalStorage.set(T,JSON.stringify(t))},setReshuffleOnSkip:t=>{i({reshuffleOnSkip:t}),Spicetify.LocalStorage.set(K,JSON.stringify(t))},setUserHitBack:t=>i({userHitBack:t}),toggleSongTrash:t=>{var e=n(),r=!!e.trashSongList[t],a=s({},e.trashSongList);r?(delete a[t],Spicetify.showNotification(p.SONG_REMOVED)):(a[t]=!0,Spicetify.showNotification(p.SONG_ADDED),r=null==(r=Spicetify.Player.data)?void 0:r.item,e.trashbinEnabled&&r&&lt(t,Spicetify.URI.Type.TRACK)&&Spicetify.Player.next()),i({trashSongList:a}),Spicetify.LocalStorage.set(S,JSON.stringify(a))},toggleArtistTrash:t=>{var e=n(),r=!!e.trashArtistList[t],a=s({},e.trashArtistList);r?(delete a[t],Spicetify.showNotification(p.ARTIST_REMOVED)):(a[t]=!0,Spicetify.showNotification(p.ARTIST_ADDED),r=null==(r=Spicetify.Player.data)?void 0:r.item,e.trashbinEnabled&&r&&lt(t,Spicetify.URI.Type.ARTIST)&&Spicetify.Player.next()),i({trashArtistList:a}),Spicetify.LocalStorage.set(v,JSON.stringify(a))},getTrashStatus:t=>{var e=n(),r=Spicetify.URI.fromString(t);return{isTrashed:r.type===Spicetify.URI.Type.TRACK?!!e.trashSongList[t]:!!e.trashArtistList[t],type:r.type}},importTrashData:(t,e)=>{i({trashSongList:t,trashArtistList:e}),Spicetify.LocalStorage.set(S,JSON.stringify(t)),Spicetify.LocalStorage.set(v,JSON.stringify(e))},clearTrashbin:()=>{var t={};i({trashSongList:t,trashArtistList:t}),Spicetify.LocalStorage.set(S,JSON.stringify(t)),Spicetify.LocalStorage.set(v,JSON.stringify(t))},exportData:()=>{var t=n();return{songs:t.trashSongList,artists:t.trashArtistList}}}))?g(R):g,W=()=>{let r=O();return{handleTrashToggle:t=>{var t=t[0],e=Spicetify.URI.fromString(t);e.type===Spicetify.URI.Type.TRACK?r.toggleSongTrash(t):e.type===Spicetify.URI.Type.ARTIST&&r.toggleArtistTrash(t)},shouldAddContextMenu:t=>!(1<t.length||!r.trashbinEnabled)&&(t=r.getTrashStatus(t[0]).type,t===Spicetify.URI.Type.TRACK||t===Spicetify.URI.Type.ARTIST),getContextMenuLabel:t=>{t=r.getTrashStatus(t).isTrashed;return t?p.UNTHROW:p.THROW}}},J=e(r()),x=e(r(),1),R=e(r(),1),q={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G=R.default.createContext&&R.default.createContext(q),V=["attr","size","title"],k=(t,e)=>Spicetify.ReactDOMServer.renderToString(J.default.createElement(ft,{className:e,size:t})),A=e(r()),Q=e(r()),Y=(e,r,t={})=>{let{enabled:a=!0}=t;(0,Q.useEffect)(()=>{if(a){let t=new MutationObserver(t=>{r(t)&&e()});return t.observe(document.body,{childList:!0,subtree:!0}),()=>t.disconnect()}},[a,e,r])},X=(i,e=!0)=>{let n=O(),r=(0,A.useCallback)(()=>{document.querySelectorAll(i.buttonSelector).forEach(t=>t.remove())},[i.buttonSelector]),t=(0,A.useCallback)(()=>{var t;r(),e&&n.trashbinEnabled&&(t=document.querySelector(i.containerSelector))&&t.querySelectorAll(i.moreButtonSelector).forEach(t=>{var a=t.closest(i.rowSelector);if(a){let r=(t=>{let e,r,a=null;var i=t,n=Object.keys(i).find(t=>t.includes("react"));if(n){let t=i[n];for(;t&&!a;)try{var o=null!=(r=null!=(e=t.memoizedProps)?e:t.props)?r:{},l=JSON.stringify(o).match(F);null!=l&&l[0]&&(a=l[0]),t=t.return}catch(t){break}}return i=Array.from(t.querySelectorAll('a[href*="/artist/"]')).map(t=>null==(t=t.href.match(/\/artist\/([a-zA-Z0-9]+)/))?void 0:t[1]).filter(t=>Boolean(t)).map(t=>"spotify:artist:"+t),{trackURI:a,artistURIs:i}})(a).trackURI;if(r&&!a.querySelector(i.buttonSelector)){var a=!!n.trashSongList[r];let e=document.createElement("button");e.className=i.buttonClassName+" bg-transparent border-none p-2 opacity-70 cursor-pointer hover:opacity-100 transition-opacity",e.innerHTML=k(16,a?"text-green-500":""),e.dataset.visuallyTrashed=a.toString(),e.onclick=t=>{t.stopPropagation();t="true"!==e.dataset.visuallyTrashed;e.innerHTML=k(16,t?"text-green-500":""),e.dataset.visuallyTrashed=t.toString(),n.toggleSongTrash(r)},null!=(a=t.parentElement)&&a.insertBefore(e,t)}}})},[i,n,e,r]);(0,A.useEffect)(()=>{(e&&n.trashbinEnabled?t:r)()},[e,n.trashbinEnabled,r,t]);Y(t,t=>t.some(t=>Array.from(t.addedNodes).some(t=>{var e;return t.nodeType===Node.ELEMENT_NODE&&((null==(e=(t=t).closest)?void 0:e.call(t,i.containerSelector))||(null==(e=t.querySelector)?void 0:e.call(t,i.containerSelector)))&&!(null!=(e=t.classList)&&e.contains(i.buttonClassName.split(" ")[0]))})),{enabled:n.trashbinEnabled&&e})},Z={containerSelector:"#Desktop_PanelContainer_Id",buttonSelector:".trashbin-queue-btn",rowSelector:'[role="row"]',moreButtonSelector:'button[aria-haspopup="menu"]',buttonClassName:"trashbin-queue-btn"},$=()=>{var t=O(t=>t.queueTrashbinEnabled);return X(Z,t),null},N=e(r()),C=e(t()),I=({label:t,enabled:e,onChange:r})=>N.default.createElement("div",{className:"flex items-center justify-between !gap-2.5 !py-2.5"},N.default.createElement("label",{className:"w-full pr-4"},t),N.default.createElement("div",{className:"text-right"},N.default.createElement("button",{className:mt("!flex !cursor-pointer !items-center !rounded-full !border-0","!ml-3 !p-2 !transition-colors","!bg-[rgba(var(--spice-rgb-shadow),0.7)] !text-[var(--spice-text)]",!e&&"!text-[rgba(var(--spice-rgb-text),0.3)]"),onClick:()=>r(!e)},N.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor"},N.default.createElement("path",{d:"M8.797 2.5a.5.5 0 0 0-.594 0L2.5 6.5v7a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-7l-5.703-4z"}))))),L=({label:t,description:e,onClick:r})=>N.default.createElement("div",{className:"flex items-center justify-between !gap-2.5 !py-2.5"},N.default.createElement("label",{className:"w-full pr-4"},e),N.default.createElement("div",{className:"text-right"},N.default.createElement("button",{className:mt("!rounded-full !bg-transparent !font-bold !transition-transform","!border !border-[#727272] !px-[15px] !duration-[33ms]","!min-h-8 !cursor-pointer !text-[var(--spice-text)]","hover:!scale-[1.04] hover:!border-[var(--spice-text)]"),onClick:r},t))),tt=()=>{let a=O();return N.default.createElement("div",{className:"p-4"},N.default.createElement("h2",{className:"!my-2.5 text-lg font-bold text-[var(--spice-text)] first-of-type:mt-0"},f.OPTIONS),N.default.createElement(I,{label:f.ENABLED,enabled:a.trashbinEnabled,onChange:a.setTrashbinEnabled}),N.default.createElement(I,{label:f.SHOW_WIDGET_ICON,enabled:a.widgetEnabled,onChange:a.setWidgetEnabled}),N.default.createElement("h2",{className:"!my-2.5 text-lg font-bold text-[var(--spice-text)] first-of-type:mt-0"},f.FEATURES),N.default.createElement(I,{label:f.AUTOPLAY_ON_START,enabled:a.autoplayOnStart,onChange:a.setAutoplayOnStart}),N.default.createElement(I,{label:f.QUEUE_TRASHBIN,enabled:a.queueTrashbinEnabled,onChange:a.setQueueTrashbinEnabled}),N.default.createElement(I,{label:f.TRACKLIST_TRASHBIN,enabled:a.tracklistTrashbinEnabled,onChange:a.setTracklistTrashbinEnabled}),N.default.createElement(I,{label:f.RESHUFFLE_ON_SKIP,enabled:a.reshuffleOnSkip,onChange:a.setReshuffleOnSkip}),N.default.createElement("h2",{className:"!my-2.5 text-lg font-bold text-[var(--spice-text)] first-of-type:mt-0"},f.LOCAL_STORAGE),N.default.createElement(L,{label:f.COPY,description:f.COPY_DESCRIPTION,onClick:()=>{Spicetify.Platform.ClipboardAPI.copy(JSON.stringify(a.exportData())),Spicetify.showNotification(p.COPIED)}}),N.default.createElement(L,{label:f.EXPORT,description:f.EXPORT_DESCRIPTION,onClick:async()=>{var t;try{var e=await(null==(t=window.showSaveFilePicker)?void 0:t.call(window,{suggestedName:f.SUGGESTED_NAME,types:[{accept:{"application/json":[".json"]}}]})),r=await(null==e?void 0:e.createWritable());await(null==r?void 0:r.write(JSON.stringify(a.exportData()))),await(null==r?void 0:r.close()),Spicetify.showNotification(p.BACKUP_SAVED_SUCCESS)}catch(t){Spicetify.showNotification(p.BACKUP_SAVED_FAILED)}}}),N.default.createElement(L,{label:f.IMPORT,description:f.IMPORT_DESCRIPTION,onClick:()=>{var t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=t=>{var e,t=null==(t=t.target.files)?void 0:t[0];t&&((e=new FileReader).onload=t=>{var e;try{var r=JSON.parse(null==(e=t.target)?void 0:e.result);a.importTrashData(r.songs||{},r.artists||{}),Spicetify.showNotification(p.BACKUP_RESTORED_SUCCESS)}catch(t){Spicetify.showNotification(p.BACKUP_RESTORED_FAILED,!0)}},e.readAsText(t))},t.click()}}),N.default.createElement(L,{label:f.CLEAR,description:f.CLEAR_DESCRIPTION,onClick:()=>{a.clearTrashbin(),Spicetify.showNotification(p.TRASHBIN_CLEARED)}}))},et={containerSelector:"main",buttonSelector:".trashbin-tracklist-btn",rowSelector:".main-trackList-trackListRow",moreButtonSelector:".main-trackList-rowMoreButton",buttonClassName:"trashbin-tracklist-btn"},rt=()=>{var t=O(t=>t.tracklistTrashbinEnabled);return X(et,t),null},P=e(r()),at=P.default.memo(()=>{let a=O(),r=(0,P.useRef)(null),i=t=>{var e,r=null==(r=Spicetify.Player.data)?void 0:r.item;r&&(e=Spicetify.URI.fromString(r.uri).type===Spicetify.URI.Type.TRACK,r=!!a.trashSongList[r.uri],e?(t.active=r,t.label=r?p.UNTHROW:p.THROW):t.deregister())};return(0,P.useEffect)(()=>{let t=new Spicetify.Playbar.Widget(p.THROW,k(18),()=>{var t=null==(t=Spicetify.Player.data)?void 0:t.item;t&&a.toggleSongTrash(t.uri)},!1,!1,a.widgetEnabled&&a.trashbinEnabled),e=(r.current=t,i(t),()=>i(t));return Spicetify.Player.addEventListener("songchange",e),()=>{Spicetify.Player.removeEventListener("songchange",e),t.deregister()}},[a.trashbinEnabled,a.widgetEnabled,a.trashSongList]),null}),it=async function(){let t=document.createElement("div");return t.id="trashbin-plus-root",t.className="fixed top-0 left-0 z-50 pointer-events-none",document.body.appendChild(t),d.default.render(c.default.createElement(yt,null),t),console.log("Spicetify is ready! Attaching Trashbin+ React component.",Spicetify),()=>{d.default.unmountComponentAtNode(t),t.remove()}},(async()=>{await it()})(),(async()=>{var t;document.getElementById("trashbinDplus")||((t=document.createElement("style")).id="trashbinDplus",t.textContent=String.raw`
  @layer properties;@layer theme,base,components,utilities; @layer theme{:host,:root{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-500:oklch(63.7% 0.237 25.331);--color-green-500:oklch(72.3% 0.219 149.579);--spacing:0.25rem;--text-lg:1.125rem;--text-lg--line-height:calc(1.75 / 1.125);--font-weight-bold:700;--default-transition-duration:150ms;--default-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,::after,::backdrop,::before,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}menu,ol,ul{list-style:none}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}::file-selector-button,button,input,optgroup,select,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){::placeholder{color:currentcolor}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-meridiem-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-year-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}::file-selector-button,button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.fixed{position:fixed}.relative{position:relative}.static{position:static}.top-0{top:calc(var(--spacing) * 0)}.left-0{left:calc(var(--spacing) * 0)}.z-50{z-index:50}.container{width:100%}.\!ml-3{margin-left:calc(var(--spacing) * 3)!important}.\!flex{display:flex!important}.block{display:block}.contents{display:contents}.flex{display:flex}.hidden{display:none}.inline{display:inline}.table{display:table}.\!min-h-8{min-height:calc(var(--spacing) * 8)!important}.w-full{width:100%}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.\!cursor-pointer{cursor:pointer!important}.cursor-pointer{cursor:pointer}.\!items-center{align-items:center!important}.items-center{align-items:center}.justify-between{justify-content:space-between}.\!gap-2\.5{gap:calc(var(--spacing) * 2.5)!important}.\!rounded-full{border-radius:calc(infinity * 1px)!important}.\!border{border-style:var(--tw-border-style)!important;border-width:1px!important}.\!border-0{border-style:var(--tw-border-style)!important;border-width:0!important}.border{border-style:var(--tw-border-style);border-width:1px}.border-none{--tw-border-style:none;border-style:none}.\!border-\[\#727272\]{border-color:#727272!important}.\!bg-\[rgba\(var\(--spice-rgb-shadow\)\,0\.7\)\]{background-color:rgba(var(--spice-rgb-shadow),.7)!important}.\!bg-transparent{background-color:transparent!important}.bg-transparent{background-color:transparent}.\!p-2{padding:calc(var(--spacing) * 2)!important}.p-2{padding:calc(var(--spacing) * 2)}.p-4{padding:calc(var(--spacing) * 4)}.\!px-\[15px\]{padding-inline:15px!important}.\!py-2\.5{padding-block:calc(var(--spacing) * 2.5)!important}.pr-4{padding-right:calc(var(--spacing) * 4)}.text-right{text-align:right}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading, var(--text-lg--line-height))}.text-\[0\.5rem\]{font-size:.5rem}.\!font-bold{--tw-font-weight:var(--font-weight-bold)!important;font-weight:var(--font-weight-bold)!important}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.\!text-\[rgba\(var\(--spice-rgb-text\)\,0\.3\)\]{color:rgba(var(--spice-rgb-text),.3)!important}.\!text-\[var\(--spice-text\)\]{color:var(--spice-text)!important}.text-\[var\(--spice-text\)\]{color:var(--spice-text)}.text-green-500{color:var(--color-green-500)}.text-red-500{color:var(--color-red-500)}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.opacity-70{opacity:70%}.\!transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration, var(--default-transition-duration))!important}.\!transition-transform{transition-property:transform,translate,scale,rotate!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration, var(--default-transition-duration))!important}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.\!duration-\[33ms\]{--tw-duration:33ms!important;transition-duration:33ms!important}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,::after,::backdrop,::before{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-font-weight:initial;--tw-duration:initial}}}/*! tailwindcss v4.1.9 | MIT License | https://tailwindcss.com */
      `.trim(),document.head.appendChild(t))})()})();