(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var D,n,_,o,r,j,s,U,a,l,e,t,i,c,d,u,h,f,p,B,m,F,g,H,b,W,v,y,K,V,q,J,S,G,Y,w,E,Q,$,X,x,T,Z,ee,te,ie,re,k,O,I,ae,ne,oe,C,se,N,R,le,ce,de,ue,he,fe,pe,me,ge,be,ve,ye,Se,we,A,Ee,xe,Te,ke;function Oe(e,t,i){var r;if(!e||!e.uri)return 1;if(t[e.uri])return 1;var a,n,o=new Set;for(a of e.artists||[])a&&a.uri&&o.add(a.uri);null!=(t=e.metadata)&&t.artist_uri&&o.add(e.metadata.artist_uri);let s=1;for(;null!=(r=e.metadata)&&r["artist_uri:"+s];)o.add(e.metadata["artist_uri:"+s]),s++;for(n of o)if(i[n])return 1}async function Ie(){var e,t=S.getState(),i=Spicetify.Player.data;if(null!=(e=null==i?void 0:i.context)&&e.uri&&t.reshuffleOnSkip){var r,a=i.context.uri;for(r of i.nextItems||(null==(e=Spicetify.Queue)?void 0:e.nextTracks)||[])if(!Oe(r,t.trashSongList,t.trashArtistList))try{return void await Spicetify.Player.playUri(a,{},{skipTo:{uri:r.uri,uid:r.uid}})}catch(e){}}Spicetify.Player.next()}function Ce(i,e){var r,a,n=null==(r=Spicetify.Player.data)?void 0:r.item;if(n){if(e===Spicetify.URI.Type.TRACK)return i===n.uri;if(e===Spicetify.URI.Type.ARTIST){let e=0,t=null==(r=n.metadata)?void 0:r.artist_uri;for(;t;){if(i===t)return 1;e++,t=null==(a=n.metadata)?void 0:a["artist_uri:"+e]}}}}function M(e,t){var i;try{var r=Spicetify.LocalStorage.get(e);return r&&null!=(i=JSON.parse(r))?i:t}catch(e){return t}}function Ne(e,t){if(null==e)return{};var i,r=((e,t)=>{if(null==e)return{};var i,r={};for(i in e)!Object.prototype.hasOwnProperty.call(e,i)||0<=t.indexOf(i)||(r[i]=e[i]);return r})(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),n=0;n<a.length;n++)i=a[n],0<=t.indexOf(i)||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i]);return r}function Re(){return(Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function Ae(t,e){var i,r=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)),r}function z(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(a),!0).forEach(function(e){var t,i;t=r,i=a[e=e],(e=(e=>"symbol"==typeof(e=((e,t)=>{if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=typeof(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"))?e:e+"")(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function Me(t){return e=>w.default.createElement(ze,Re({attr:z({},t.attr)},e),function i(e){return e&&e.map((e,t)=>w.default.createElement(e.tag,z({key:t},e.attr),i(e.child)))}(t.child))}function ze(o){var t=e=>{var t,{attr:i,size:r,title:a}=o,n=Ne(o,X),r=r||e.size||"1em";return e.className&&(t=e.className),o.className&&(t=(t?t+" ":"")+o.className),w.default.createElement("svg",Re({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,n,{className:t,style:z(z({color:o.color||e.color},e.style),o.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),a&&w.default.createElement("title",null,a),o.children)};return void 0!==$?w.default.createElement($.Consumer,null,e=>t(e)):t(Q)}function Le(e){return Me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M9 3v10H8V3z"},child:[]},{tag:"path",attr:{d:"M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5z"},child:[]}]})(e)}function L(e){return Me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"},child:[]}]})(e)}function Pe(){let{handleTrashToggle:t,shouldAddContextMenu:i,getContextMenuLabel:r}=G(),a=(0,u.useRef)(null),n=e=>{var t=i(e);return t&&a.current&&(a.current.name=r(e[0])),t};return(0,u.useEffect)(()=>{let e=new Spicetify.ContextMenu.Item(h.THROW,t,n,x(15));return(a.current=e).register(),()=>e.deregister()},[t,n]),null}function De(...e){return e.filter(Boolean).join(" ")}function _e(){let[e,t]=(0,k.useState)(!1);return(0,k.useEffect)(()=>{let e=new Spicetify.Menu.Item(f.TRASHBIN,!1,()=>t(!0),x(15));return e.register(),()=>e.deregister()},[]),(0,k.useEffect)(()=>{if(e){Spicetify.PopupModal.display({title:f.SETTINGS,content:k.default.createElement(ae,null)});let e=new MutationObserver(()=>{document.querySelector(".main-trackCreditsModal-container")||t(!1)});return e.observe(document.body,{childList:!0,subtree:!0}),()=>{e.disconnect()}}},[e]),null}function P(c,d,u){let h=u.initialDeps??[],f;function e(){let e,t,i,r,a;u.key&&null!=(e=u.debug)&&e.call(u)&&(a=Date.now());var n,o,s,l=c();if(l.length!==h.length||l.some((e,t)=>h[t]!==e)){h=l;let e;u.key&&null!=(t=u.debug)&&t.call(u)&&(e=Date.now()),f=d(...l),u.key&&null!=(i=u.debug)&&i.call(u)&&(l=Math.round(100*(Date.now()-a))/100,o=(n=Math.round(100*(Date.now()-e))/100)/16,s=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e},console.info(`%c⏱ ${s(n,5)} /${s(l,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*o,120))}deg 100% 31%);`,null==u?void 0:u.key)),null!=(r=null==u?void 0:u.onChange)&&r.call(u,f)}return f}return e.updateDeps=e=>{h=e},e}function je(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}function Ue(i){{var a={observeElementRect:fe,observeElementOffset:ge,scrollToFn:ve,...i};let r=R.useReducer(()=>({}),{})[1],e={...a,onChange:(e,t)=>{var i;t?(0,le.flushSync)(r):r(),null!=(i=a.onChange)&&i.call(a,e,t)}},[t]=R.useState(()=>new ye(e));return t.setOptions(e),we(()=>t._didMount(),[]),we(()=>t._willUpdate()),t}}function Be(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}async function Fe(e,t=0,i=50){var r=e.slice(t,t+i).map(e=>e.split(":")[2]),a=[];for(let e=0;e<r.length;e+=50){var n=await(async i=>{try{return(await Spicetify.CosmosAsync.get("https://api.spotify.com/v1/tracks?ids="+i.join(","))).tracks.map((e,t)=>({uri:"spotify:track:"+i[t],name:(null==e?void 0:e.name)||"Unknown Track",artist:(null==(t=null==e?void 0:e.artists)?void 0:t.map(e=>e.name).join(", "))||"Unknown Artist",imageUrl:null==(t=null==(e=null==(t=null==e?void 0:e.album)?void 0:t.images)?void 0:e[0])?void 0:t.url}))}catch(e){return console.error("Failed to fetch tracks:",e),i.map(e=>({uri:"spotify:track:"+e,name:"Error loading track",artist:"Failed to load"}))}})(r.slice(e,e+50));a.push(...n)}return a}function He(){let[e,t]=(0,N.useState)(!1);return(0,N.useEffect)(()=>{let e=new Spicetify.Menu.Item(f.TRASHBIN_ITEMS,!1,()=>t(!0),Spicetify.ReactDOMServer.renderToString(N.default.createElement(L,{size:15})));return e.register(),()=>e.deregister()},[]),(0,N.useEffect)(()=>{if(e){Spicetify.PopupModal.display({title:f.TRASHBIN_ITEMS,content:N.default.createElement(Te,null),isLarge:!0});let e=new MutationObserver(()=>{document.querySelector(".main-trackCreditsModal-container")||t(!1)});return e.observe(document.body,{childList:!0,subtree:!0}),()=>{e.disconnect()}}},[e]),null}function We(){let a=S();return(0,c.useEffect)(()=>{a.initializeFromStorage()},[a.initializeFromStorage]),(0,c.useEffect)(()=>{a.autoplayOnStart&&!Spicetify.Player.isPlaying()&&Spicetify.Player.play()},[a.autoplayOnStart]),(0,c.useEffect)(()=>{var r;if(a.trashbinEnabled){let e=null!=(r=document.querySelector(".main-skipBackButton-button"))?r:document.querySelector(".player-controls__left > button[data-encore-id='buttonTertiary']"),t=()=>a.setUserHitBack(!0),i=()=>{var e=null==(e=Spicetify.Player.data)?void 0:e.item,t=S.getState();t.userHitBack?a.setUserHitBack(!1):Oe(e,t.trashSongList,t.trashArtistList)&&Ie()};return null!=e&&e.addEventListener("click",t),Spicetify.Player.addEventListener("songchange",i),()=>{null!=e&&e.removeEventListener("click",t),Spicetify.Player.removeEventListener("songchange",i)}}},[a.trashbinEnabled,a.setUserHitBack,Ie]),c.default.createElement(c.default.Fragment,null,c.default.createElement(se,null),c.default.createElement(_e,null),c.default.createElement(He,null),c.default.createElement(Pe,null),c.default.createElement(oe,null),c.default.createElement(re,null))}D=Object.create,n=Object.defineProperty,_=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,a=(e,t,i)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,l=(e,t)=>{for(var i in t=t||{})s.call(t,i)&&a(e,i,t[i]);if(r)for(var i of r(t))U.call(t,i)&&a(e,i,t[i]);return e},t=(e,t,i)=>(i=null!=e?D(j(e)):{},((t,i,r,a)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let e of o(i))s.call(t,e)||e===r||n(t,e,{get:()=>i[e],enumerable:!(a=_(i,e))||a.enumerable});return t})(!t&&e&&e.__esModule?i:n(i,"default",{value:e,enumerable:!0}),e)),i=(e=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports})({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}}),e=e({"external-global-plugin:react-dom"(e,t){t.exports=Spicetify.ReactDOM}}),c=t(i()),d=t(e()),u=t(i()),h={THROW:"Place in Trashbin",UNTHROW:"Remove from Trashbin",COPIED:"Copied to clipboard",BACKUP_SAVED_SUCCESS:"Backup saved successfully.",BACKUP_SAVED_FAILED:"Failed to save backup, try copying trashbin contents to clipboard and creating a backup manually.",BACKUP_RESTORED_SUCCESS:"Backup restored successfully.",BACKUP_RESTORED_FAILED:"Failed to restore backup, try importing trashbin contents from a file manually.",BACKUP_RESTORED_FAILED_FILE_READ:"Failed to read file, please ensure it is a valid JSON file.",TRASHBIN_CLEARED:"Trashbin cleared successfully!",SONG_REMOVED:"Song removed from trashbin",SONG_ADDED:"Song added to trashbin",ARTIST_REMOVED:"Artist removed from trashbin",ARTIST_ADDED:"Artist added to trashbin"},f={TRASHBIN:"Trashbin+",TRASHBIN_ITEMS:"Trashbin+ Items",SETTINGS:"Trashbin+ Settings",SUGGESTED_NAME:"spicetify-trashbin.json",ENABLED:"Enabled",SHOW_WIDGET_ICON:"Show Widget Icon",AUTOPLAY_ON_START:"Autoplay on Start",QUEUE_TRASHBIN:"Enable Queue Trashbin",TRACKLIST_TRASHBIN:"Enable Tracklist Trashbin",RESHUFFLE_ON_SKIP:"Skip to Next Non-Trashed & Reshuffle Queue",OPTIONS:"Options",FEATURES:"Features",LOCAL_STORAGE:"Local Storage",COPY:"Copy",EXPORT:"Export",IMPORT:"Import",CLEAR:"Clear",COPY_DESCRIPTION:"Copy all items in trashbin to clipboard.",EXPORT_DESCRIPTION:"Save all items in trashbin to a .json file.",IMPORT_DESCRIPTION:"Overwrite all items in trashbin via .json file.",CLEAR_DESCRIPTION:"Clear all items from trashbin (cannot be reverted)."},p=e=>{let r,a=new Set;var t=(e,i)=>{e="function"==typeof e?e(r):e;if(!Object.is(e,r)){let t=r;r=(null!=i?i:"object"!=typeof e||null===e)?e:Object.assign({},r,e),a.forEach(e=>e(r,t))}},i=()=>r,n={setState:t,getState:i,getInitialState:()=>o,subscribe:e=>(a.add(e),()=>a.delete(e))};let o=r=e(t,i,n);return n},B=e=>e?p(e):p,m=t(i(),1),F=e=>e,g=e=>{let r=B(e);e=e=>{return[t,i=F]=[r,e],e=m.default.useSyncExternalStore(t.subscribe,()=>i(t.getState()),()=>i(t.getInitialState())),m.default.useDebugValue(e),e;var t,i};return Object.assign(e,r),e},H=/spotify:track:([a-zA-Z0-9]+)/,b="trashbin-enabled",W="TrashbinWidgetIcon",v="TrashSongList",y="TrashArtistList",K="trashbin-autoplay-on-start",V="trashbin-queue-enabled",q="trashbin-tracklist-enabled",J="trashbin-reshuffle-on-skip",S=(E=(a,n)=>({trashbinEnabled:!0,widgetEnabled:!0,autoplayOnStart:!1,queueTrashbinEnabled:!0,tracklistTrashbinEnabled:!0,reshuffleOnSkip:!1,trashSongList:{},trashArtistList:{},userHitBack:!1,initializeFromStorage:()=>{a({trashbinEnabled:M(b,!0),widgetEnabled:M(W,!0),trashSongList:M(v,{}),trashArtistList:M(y,{}),autoplayOnStart:M(K,!1),queueTrashbinEnabled:M(V,!0),tracklistTrashbinEnabled:M(q,!0),reshuffleOnSkip:M(J,!1)})},setTrashbinEnabled:e=>{a({trashbinEnabled:e}),Spicetify.LocalStorage.set(b,JSON.stringify(e))},setWidgetEnabled:e=>{a({widgetEnabled:e}),Spicetify.LocalStorage.set(W,JSON.stringify(e))},setAutoplayOnStart:e=>{a({autoplayOnStart:e}),Spicetify.LocalStorage.set(K,JSON.stringify(e))},setQueueTrashbinEnabled:e=>{a({queueTrashbinEnabled:e}),Spicetify.LocalStorage.set(V,JSON.stringify(e))},setTracklistTrashbinEnabled:e=>{a({tracklistTrashbinEnabled:e}),Spicetify.LocalStorage.set(q,JSON.stringify(e))},setReshuffleOnSkip:e=>{a({reshuffleOnSkip:e}),Spicetify.LocalStorage.set(J,JSON.stringify(e))},setUserHitBack:e=>a({userHitBack:e}),toggleSongTrash:e=>{var t=n(),i=!!t.trashSongList[e],r=l({},t.trashSongList);i?(delete r[e],Spicetify.showNotification(h.SONG_REMOVED)):(r[e]=!0,Spicetify.showNotification(h.SONG_ADDED),i=null==(i=Spicetify.Player.data)?void 0:i.item,t.trashbinEnabled&&i&&Ce(e,Spicetify.URI.Type.TRACK)&&Spicetify.Player.next()),a({trashSongList:r}),Spicetify.LocalStorage.set(v,JSON.stringify(r))},toggleArtistTrash:e=>{var t=n(),i=!!t.trashArtistList[e],r=l({},t.trashArtistList);i?(delete r[e],Spicetify.showNotification(h.ARTIST_REMOVED)):(r[e]=!0,Spicetify.showNotification(h.ARTIST_ADDED),i=null==(i=Spicetify.Player.data)?void 0:i.item,t.trashbinEnabled&&i&&Ce(e,Spicetify.URI.Type.ARTIST)&&Spicetify.Player.next()),a({trashArtistList:r}),Spicetify.LocalStorage.set(y,JSON.stringify(r))},getTrashStatus:e=>{var t=n(),i=Spicetify.URI.fromString(e);return{isTrashed:i.type===Spicetify.URI.Type.TRACK?!!t.trashSongList[e]:!!t.trashArtistList[e],type:i.type}},importTrashData:(e,t)=>{a({trashSongList:e,trashArtistList:t}),Spicetify.LocalStorage.set(v,JSON.stringify(e)),Spicetify.LocalStorage.set(y,JSON.stringify(t))},clearTrashbin:()=>{var e={};a({trashSongList:e,trashArtistList:e}),Spicetify.LocalStorage.set(v,JSON.stringify(e)),Spicetify.LocalStorage.set(y,JSON.stringify(e))},exportData:()=>{var e=n();return{songs:e.trashSongList,artists:e.trashArtistList}}}))?g(E):g,G=()=>{let i=S();return{handleTrashToggle:e=>{var e=e[0],t=Spicetify.URI.fromString(e);t.type===Spicetify.URI.Type.TRACK?i.toggleSongTrash(e):t.type===Spicetify.URI.Type.ARTIST&&i.toggleArtistTrash(e)},shouldAddContextMenu:e=>!(1<e.length||!i.trashbinEnabled)&&(e=i.getTrashStatus(e[0]).type,e===Spicetify.URI.Type.TRACK||e===Spicetify.URI.Type.ARTIST),getContextMenuLabel:e=>{e=i.getTrashStatus(e).isTrashed;return e?h.UNTHROW:h.THROW}}},Y=t(i()),w=t(i(),1),E=t(i(),1),Q={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$=E.default.createContext&&E.default.createContext(Q),X=["attr","size","title"],x=(e,t)=>Spicetify.ReactDOMServer.renderToString(Y.default.createElement(L,{className:t,size:e})),T=t(i()),Z=t(i()),ee=(t,i,e={})=>{let{enabled:r=!0}=e;(0,Z.useEffect)(()=>{if(r){let e=new MutationObserver(e=>{i(e)&&t()});return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()}},[r,t,i])},te=(a,t=!0)=>{let n=S(),i=(0,T.useCallback)(()=>{document.querySelectorAll(a.buttonSelector).forEach(e=>e.remove())},[a.buttonSelector]),e=(0,T.useCallback)(()=>{var e;i(),t&&n.trashbinEnabled&&(e=document.querySelector(a.containerSelector))&&e.querySelectorAll(a.moreButtonSelector).forEach(e=>{var r=e.closest(a.rowSelector);if(r){let i=(e=>{let t,i,r=null;var a=e,n=Object.keys(a).find(e=>e.includes("react"));if(n){let e=a[n];for(;e&&!r;)try{var o=null!=(i=null!=(t=e.memoizedProps)?t:e.props)?i:{},s=JSON.stringify(o).match(H);null!=s&&s[0]&&(r=s[0]),e=e.return}catch(e){break}}return a=Array.from(e.querySelectorAll('a[href*="/artist/"]')).map(e=>null==(e=e.href.match(/\/artist\/([a-zA-Z0-9]+)/))?void 0:e[1]).filter(e=>Boolean(e)).map(e=>"spotify:artist:"+e),{trackURI:r,artistURIs:a}})(r).trackURI;if(i&&!r.querySelector(a.buttonSelector)){var r=!!n.trashSongList[i];let t=document.createElement("button");t.className=a.buttonClassName+" bg-transparent border-none p-2 opacity-70 cursor-pointer hover:opacity-100 transition-opacity",t.innerHTML=x(16,r?"text-green-500":""),t.dataset.visuallyTrashed=r.toString(),t.onclick=e=>{e.stopPropagation();e="true"!==t.dataset.visuallyTrashed;t.innerHTML=x(16,e?"text-green-500":""),t.dataset.visuallyTrashed=e.toString(),n.toggleSongTrash(i)},null!=(r=e.parentElement)&&r.insertBefore(t,e)}}})},[a,n,t,i]);(0,T.useEffect)(()=>{(t&&n.trashbinEnabled?e:i)()},[t,n.trashbinEnabled,i,e]);ee(e,e=>e.some(e=>Array.from(e.addedNodes).some(e=>{var t;return e.nodeType===Node.ELEMENT_NODE&&((null==(t=(e=e).closest)?void 0:t.call(e,a.containerSelector))||(null==(t=e.querySelector)?void 0:t.call(e,a.containerSelector)))&&!(null!=(t=e.classList)&&t.contains(a.buttonClassName.split(" ")[0]))})),{enabled:n.trashbinEnabled&&t})},ie={containerSelector:"#Desktop_PanelContainer_Id",buttonSelector:".trashbin-queue-btn",rowSelector:'[role="row"]',moreButtonSelector:'button[aria-haspopup="menu"]',buttonClassName:"trashbin-queue-btn"},re=()=>{var e=S(e=>e.queueTrashbinEnabled);return te(ie,e),null},k=t(i()),O=({label:e,enabled:t,onChange:i})=>k.default.createElement("div",{className:"flex items-center justify-between !gap-2.5 !py-2.5"},k.default.createElement("label",{className:"w-full pr-4"},e),k.default.createElement("div",{className:"text-right"},k.default.createElement("button",{className:De("!flex !cursor-pointer !items-center !rounded-full !border-0","!ml-3 !p-2 !transition-colors","!bg-[rgba(var(--spice-rgb-shadow),0.7)] !text-[var(--spice-text)]",!t&&"!text-[rgba(var(--spice-rgb-text),0.3)]"),onClick:()=>i(!t)},k.default.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",fill:"currentColor"},k.default.createElement("path",{d:"M8.797 2.5a.5.5 0 0 0-.594 0L2.5 6.5v7a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-7l-5.703-4z"}))))),I=({label:e,description:t,onClick:i})=>k.default.createElement("div",{className:"flex items-center justify-between !gap-2.5 !py-2.5"},k.default.createElement("label",{className:"w-full pr-4"},t),k.default.createElement("div",{className:"text-right"},k.default.createElement("button",{className:De("!rounded-full !bg-transparent !font-bold !transition-transform","!border !border-[#727272] !px-[15px] !duration-[33ms]","!min-h-8 !cursor-pointer !text-[var(--spice-text)]","hover:!scale-[1.04] hover:!border-[var(--spice-text)]"),onClick:i},e))),ae=()=>{let r=S();return k.default.createElement("div",{className:"p-4"},k.default.createElement("h2",{className:"!my-2.5 text-lg font-bold text-[var(--spice-text)] first-of-type:mt-0"},f.OPTIONS),k.default.createElement(O,{label:f.ENABLED,enabled:r.trashbinEnabled,onChange:r.setTrashbinEnabled}),k.default.createElement(O,{label:f.SHOW_WIDGET_ICON,enabled:r.widgetEnabled,onChange:r.setWidgetEnabled}),k.default.createElement("h2",{className:"!my-2.5 text-lg font-bold text-[var(--spice-text)] first-of-type:mt-0"},f.FEATURES),k.default.createElement(O,{label:f.AUTOPLAY_ON_START,enabled:r.autoplayOnStart,onChange:r.setAutoplayOnStart}),k.default.createElement(O,{label:f.QUEUE_TRASHBIN,enabled:r.queueTrashbinEnabled,onChange:r.setQueueTrashbinEnabled}),k.default.createElement(O,{label:f.TRACKLIST_TRASHBIN,enabled:r.tracklistTrashbinEnabled,onChange:r.setTracklistTrashbinEnabled}),k.default.createElement(O,{label:f.RESHUFFLE_ON_SKIP,enabled:r.reshuffleOnSkip,onChange:r.setReshuffleOnSkip}),k.default.createElement("h2",{className:"!my-2.5 text-lg font-bold text-[var(--spice-text)] first-of-type:mt-0"},f.LOCAL_STORAGE),k.default.createElement(I,{label:f.COPY,description:f.COPY_DESCRIPTION,onClick:()=>{Spicetify.Platform.ClipboardAPI.copy(JSON.stringify(r.exportData())),Spicetify.showNotification(h.COPIED)}}),k.default.createElement(I,{label:f.EXPORT,description:f.EXPORT_DESCRIPTION,onClick:async()=>{var e;try{var t=await(null==(e=window.showSaveFilePicker)?void 0:e.call(window,{suggestedName:f.SUGGESTED_NAME,types:[{accept:{"application/json":[".json"]}}]})),i=await(null==t?void 0:t.createWritable());await(null==i?void 0:i.write(JSON.stringify(r.exportData()))),await(null==i?void 0:i.close()),Spicetify.showNotification(h.BACKUP_SAVED_SUCCESS)}catch(e){Spicetify.showNotification(h.BACKUP_SAVED_FAILED)}}}),k.default.createElement(I,{label:f.IMPORT,description:f.IMPORT_DESCRIPTION,onClick:()=>{var e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{var t,e=null==(e=e.target.files)?void 0:e[0];e&&((t=new FileReader).onload=e=>{var t;try{var i=JSON.parse(null==(t=e.target)?void 0:t.result);r.importTrashData(i.songs||{},i.artists||{}),Spicetify.showNotification(h.BACKUP_RESTORED_SUCCESS)}catch(e){Spicetify.showNotification(h.BACKUP_RESTORED_FAILED,!0)}},t.readAsText(e))},e.click()}}),k.default.createElement(I,{label:f.CLEAR,description:f.CLEAR_DESCRIPTION,onClick:()=>{r.clearTrashbin(),Spicetify.showNotification(h.TRASHBIN_CLEARED)}}))},ne={containerSelector:"main",buttonSelector:".trashbin-tracklist-btn",rowSelector:".main-trackList-trackListRow",moreButtonSelector:".main-trackList-rowMoreButton",buttonClassName:"trashbin-tracklist-btn"},oe=()=>{var e=S(e=>e.tracklistTrashbinEnabled);return te(ne,e),null},C=t(i()),se=C.default.memo(()=>{let r=S(),i=(0,C.useRef)(null),a=e=>{var t,i=null==(i=Spicetify.Player.data)?void 0:i.item;i&&(t=Spicetify.URI.fromString(i.uri).type===Spicetify.URI.Type.TRACK,i=!!r.trashSongList[i.uri],t?(e.active=i,e.label=i?h.UNTHROW:h.THROW):e.deregister())};return(0,C.useEffect)(()=>{let e=new Spicetify.Playbar.Widget(h.THROW,x(18),()=>{var e=null==(e=Spicetify.Player.data)?void 0:e.item;e&&r.toggleSongTrash(e.uri)},!1,!1,r.widgetEnabled&&r.trashbinEnabled),t=(i.current=e,a(e),()=>a(e));return Spicetify.Player.addEventListener("songchange",t),()=>{Spicetify.Player.removeEventListener("songchange",t),e.deregister()}},[r.trashbinEnabled,r.widgetEnabled,r.trashSongList]),null}),N=t(i()),R=t(i(),1),le=t(e(),1),ce=(t,i,r)=>{let a;return function(...e){t.clearTimeout(a),a=t.setTimeout(()=>i.apply(this,e),r)}},de=e=>{var{offsetWidth:e,offsetHeight:t}=e;return{width:e,height:t}},ue=e=>e,he=e=>{var t=Math.max(e.startIndex-e.overscan,0),i=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=i;e++)r.push(e);return r},fe=(r,a)=>{let n=r.scrollElement;if(n){var t=r.targetWindow;if(t){let i=e=>{var{width:e,height:t}=e;a({width:Math.round(e),height:Math.round(t)})};if(i(de(n)),!t.ResizeObserver)return()=>{};let e=new t.ResizeObserver(t=>{var e=()=>{var e=t[0];if(null!=e&&e.borderBoxSize){e=e.borderBoxSize[0];if(e)return void i({width:e.inlineSize,height:e.blockSize})}i(de(n))};r.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(e):e()});return e.observe(n,{box:"border-box"}),()=>{e.unobserve(n)}}}},pe={passive:!0},me="undefined"==typeof window||"onscrollend"in window,ge=(n,o)=>{let s=n.scrollElement;if(s){var l=n.targetWindow;if(l){let r=0,a=n.options.useScrollendEvent&&me?()=>{}:ce(l,()=>{o(r,!1)},n.options.isScrollingResetDelay);l=i=>()=>{var{horizontal:e,isRtl:t}=n.options;r=e?s.scrollLeft*(t?-1:1):s.scrollTop,a(),o(r,i)};let e=l(!0),t=l(!1),i=(t(),s.addEventListener("scroll",e,pe),n.options.useScrollendEvent&&me);return i&&s.addEventListener("scrollend",t,pe),()=>{s.removeEventListener("scroll",e),i&&s.removeEventListener("scrollend",t)}}}},be=(e,t,i)=>{if(null!=t&&t.borderBoxSize){t=t.borderBoxSize[0];if(t)return Math.round(t[i.options.horizontal?"inlineSize":"blockSize"])}return e[i.options.horizontal?"offsetWidth":"offsetHeight"]},ve=(e,{adjustments:t=0,behavior:i},r)=>{var a,n;null!=(n=null==(a=r.scrollElement)?void 0:a.scrollTo)&&n.call(a,{[r.options.horizontal?"left":"top"]:e+t,behavior:i})},ye=class{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null,i=()=>t||(this.targetWindow&&this.targetWindow.ResizeObserver?t=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{var t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var e;null!=(e=i())&&e.disconnect(),t=null},observe:e=>{var t;return null==(t=i())?void 0:t.observe(e,{box:"border-box"})},unobserve:e=>{var t;return null==(t=i())?void 0:t.unobserve(e)}}})(),this.range=null,this.setOptions=i=>{Object.entries(i).forEach(([e,t])=>{void 0===t&&delete i[e]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ue,rangeExtractor:he,onChange:()=>{},measureElement:be,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...i}},this.notify=e=>{var t,i;null!=(i=(t=this.options).onChange)&&i.call(t,this,e)},this.maybeNotify=P(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:"maybeNotify",debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e=this.options.enabled?this.options.getScrollElement():null;this.scrollElement!==e&&(this.cleanup(),e?(this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))):this.maybeNotify())},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,i)=>{var r=new Map,a=new Map;for(let e=i-1;0<=e;e--){var n=t[e];if(!r.has(n.lane)){var o=a.get(n.lane);if(null==o||n.end>o.end?a.set(n.lane,n):n.end<o.end&&r.set(n.lane,!0),r.size===this.options.lanes)break}}return a.size===this.options.lanes?Array.from(a.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=P(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,i,r,a)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:i,getItemKey:r,enabled:a}),{key:!1}),this.getMeasurements=P(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:i,scrollMargin:r,getItemKey:a,enabled:n},o)=>{if(!n)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));var n=0<this.pendingMeasuredCacheIndexes.length?Math.min(...this.pendingMeasuredCacheIndexes):0,s=(this.pendingMeasuredCacheIndexes=[],this.measurementsCache.slice(0,n));for(let e=n;e<t;e++){var l=a(e),c=1===this.options.lanes?s[e-1]:this.getFurthestMeasurement(s,e),d=c?c.end+this.options.gap:i+r,u=o.get(l),u="number"==typeof u?u:this.options.estimateSize(e),c=c?c.lane:e%this.options.lanes;s[e]={index:e,start:d,size:u,end:d+u,key:l,lane:c}}return this.measurementsCache=s},{key:"getMeasurements",debug:()=>this.options.debug}),this.calculateRange=P(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,i,r)=>this.range=0<e.length&&0<t?(({measurements:t,outerSize:i,scrollOffset:r,lanes:e})=>{var a=t.length-1,n=e=>t[e].start;if(t.length<=e)return{startIndex:0,endIndex:a};let o=Se(0,a,n,r),s=o;if(1===e)for(;s<a&&t[s].end<r+i;)s++;else if(1<e){for(var l=Array(e).fill(0);s<a&&l.some(e=>e<r+i);){var c=t[s];l[c.lane]=c.end,s++}for(var d=Array(e).fill(r+i);0<=o&&d.some(e=>r<=e);){var u=t[o];d[u.lane]=u.start,o--}o=Math.max(0,o-o%e),s=Math.min(a,s+(e-1-s%e))}return{startIndex:o,endIndex:s}})({measurements:e,outerSize:t,scrollOffset:i,lanes:r}):null,{key:"calculateRange",debug:()=>this.options.debug}),this.getVirtualIndexes=P(()=>{let e=null,t=null;var i=this.calculateRange();return i&&(e=i.startIndex,t=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,i,r,a)=>null===r||null===a?[]:e({startIndex:r,endIndex:a,overscan:t,count:i}),{key:"getVirtualIndexes",debug:()=>this.options.debug}),this.indexFromElement=e=>{var t=this.options.indexAttribute,e=e.getAttribute(t);return e?parseInt(e,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{var i,r=this.indexFromElement(e),a=this.measurementsCache[r];a&&(a=a.key,(i=this.elementsCache.get(a))!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected)&&this.resizeItem(r,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{var i,e=this.measurementsCache[e];e&&0!=(i=t-(this.itemSizeCache.get(e.key)??e.size))&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(e,i,this):"backward"===this.scrollDirection&&e.start<this.getScrollOffset()+this.scrollAdjustments)&&(this.options.debug&&console.info("correction",i),this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0})),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=P(()=>[this.getVirtualIndexes(),this.getMeasurements()],(i,r)=>{var a=[];for(let e=0,t=i.length;e<t;e++){var n=r[i[e]];a.push(n)}return a},{key:"getVirtualItems",debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return je(t[Se(0,t.length-1,e=>je(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,i=0)=>{var r=this.getSize(),a=this.getScrollOffset(),a=("center"===(t="auto"===t?a+r<=e?"end":"start":t)?e+=(i-r)/2:"end"===t&&(e-=r),this.getTotalSize()-r);return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));e=this.measurementsCache[e];if(e){var i=this.getSize(),r=this.getScrollOffset();if("auto"===t)if(e.end>=r+i-this.options.scrollPaddingEnd)t="end";else{if(!(e.start<=r+this.options.scrollPaddingStart))return[r,t];t="start"}i="end"===t?e.end+this.options.scrollPaddingEnd:e.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,t,e.size),t]}},this.isDynamicMode=()=>0<this.elementsCache.size,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:i}={})=>{this.cancelScrollToIndex(),"smooth"===i&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:t="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===a&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");t=this.getOffsetForIndex(r,t);if(t){let[e,i]=t;this._scrollToOffset(e,{adjustments:void 0,behavior:a}),"smooth"!==a&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{var e,t;this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))?(e=this.getOffsetForIndex(r,i))&&([e]=e,t=this.getScrollOffset(),Math.abs(e-t)<=1||this.scrollToIndex(r,{align:i,behavior:a})):this.scrollToIndex(r,{align:i,behavior:a})}))}},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e,t=this.getMeasurements();let i;if(0===t.length)i=this.options.paddingStart;else if(1===this.options.lanes)i=(null==(e=t[t.length-1])?void 0:e.end)??0;else{var r=Array(this.options.lanes).fill(null);let e=t.length-1;for(;0<=e&&r.some(e=>null===e);){var a=t[e];null===r[a.lane]&&(r[a.lane]=a.end),e--}i=Math.max(...r.filter(e=>null!==e))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:i})=>{this.options.scrollToFn(e,{behavior:i,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}},Se=(e,t,i,r)=>{for(;e<=t;){var a=(e+t)/2|0,n=i(a);if(n<r)e=1+a;else{if(!(r<n))return a;t=a-1}}return 0<e?e-1:0},we="undefined"!=typeof document?R.useLayoutEffect:R.useEffect,A=t(i()),Ee=({track:e,onUntrash:t})=>A.default.createElement("div",{className:"flex items-center justify-between rounded-md p-3 transition-colors hover:bg-white/5"},A.default.createElement("div",{className:"flex min-w-0 flex-1 items-center gap-3"},e.imageUrl?A.default.createElement("img",{src:e.imageUrl,alt:e.name,className:"h-12 w-12 flex-shrink-0 rounded object-cover"}):A.default.createElement("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded bg-white/10"},A.default.createElement(Le,{className:"h-6 w-6 text-white/70"})),A.default.createElement("div",{className:"min-w-0 flex-1"},A.default.createElement("div",{className:"truncate font-medium text-white"},e.name),A.default.createElement("div",{className:"truncate text-sm text-white/60"},e.artist))),A.default.createElement("button",{onClick:()=>t(e.uri),className:"group ml-2 flex-shrink-0 rounded-full p-2 transition-colors hover:bg-red-500/20 hover:text-red-400",title:"Remove from trashbin"},A.default.createElement(Be,{className:"h-5 w-5 text-white/70 group-hover:text-red-400"}))),xe=()=>A.default.createElement("div",{className:"flex items-center justify-center py-4"},A.default.createElement("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-white/20 border-t-white/60"})),Te=()=>{let{trashSongList:e,toggleSongTrash:i}=S(),[r,a]=(0,A.useState)([]),[t,n]=(0,A.useState)(!1),[o,s]=(0,A.useState)(!0),l=(0,A.useRef)(null),c=(0,A.useMemo)(()=>Object.keys(e),[e]),d=Ue({count:c.length,getScrollElement:()=>l.current,estimateSize:()=>76,overscan:10});return(0,A.useEffect)(()=>{(async()=>{if(0===c.length)a([]),s(!1);else{n(!0);try{var e=await Fe(c,0,50);a(e),s(e.length<c.length)}catch(e){console.error("Failed to load tracks:",e)}finally{n(!1)}}})()},[c]),(0,A.useEffect)(()=>{let e=setTimeout(async()=>{if(o&&!t){var e=d.getVirtualItems();if(0!==e.length)if((null!=(e=null==(e=e[e.length-1])?void 0:e.index)?e:0)>=r.length-10&&r.length<c.length){n(!0);try{let t=await Fe(c,r.length,50);a(e=>[...e,...t]),s(r.length+t.length<c.length)}catch(e){console.error("Failed to load more tracks:",e)}finally{n(!1)}}}},100);return()=>clearTimeout(e)},[d.getVirtualItems(),r.length,c.length,t,o]),0===c.length?A.default.createElement("div",{className:"p-8 text-center"},A.default.createElement("div",{className:"flex flex-col items-center gap-6 py-12"},A.default.createElement(L,{className:"h-20 w-20 text-white/20"}),A.default.createElement("div",null,A.default.createElement("h3",{className:"mb-2 text-xl font-semibold text-white"},"No trashed songs!"),A.default.createElement("p",{className:"text-white/60"},"Songs you add to the trashbin will appear here.")))):A.default.createElement("div",{className:"p-6"},A.default.createElement("div",{className:"mb-6"},A.default.createElement("div",{className:"mb-2 flex items-center gap-3"},A.default.createElement(L,{className:"h-6 w-6 text-white/70"}),A.default.createElement("h2",{className:"text-2xl font-bold text-white"},c.length," Trashed Song",1!==c.length?"s":"")),A.default.createElement("p",{className:"text-white/60"},"Click the × button to remove songs from your trashbin.")),A.default.createElement("div",{ref:l,className:"h-[500px] overflow-auto rounded-lg border border-white/10 bg-black/20"},A.default.createElement("div",{style:{height:d.getTotalSize()+"px",position:"relative"}},d.getVirtualItems().map(e=>{var t=r[e.index];return t?A.default.createElement("div",{key:e.key,style:{position:"absolute",top:0,left:0,width:"100%",height:e.size+"px",transform:`translateY(${e.start}px)`}},A.default.createElement(Ee,{track:t,onUntrash:i})):A.default.createElement("div",{key:e.key,style:{position:"absolute",top:0,left:0,width:"100%",height:e.size+"px",transform:`translateY(${e.start}px)`},className:"flex items-center justify-center"},A.default.createElement(xe,null))})),t&&0<r.length&&A.default.createElement("div",{className:"sticky bottom-0 border-t border-white/10 bg-black/50 backdrop-blur-sm"},A.default.createElement(xe,null))),!o&&0<r.length&&A.default.createElement("div",{className:"py-4 text-center"},A.default.createElement("p",{className:"text-sm text-white/40"},"All songs loaded (",r.length," total)")))},ke=async function(){let e=document.createElement("div");return e.id="trashbin-plus-root",e.className="fixed top-0 left-0 z-50 pointer-events-none",document.body.appendChild(e),d.default.render(c.default.createElement(We,null),e),console.log("Spicetify is ready! Attaching Trashbin+ React component.",Spicetify),()=>{d.default.unmountComponentAtNode(e),e.remove()}},(async()=>{await ke()})(),(async()=>{var e;document.getElementById("trashbinDplus")||((e=document.createElement("style")).id="trashbinDplus",e.textContent=String.raw`
  @layer properties;@layer theme,base,components,utilities; @layer theme{:host,:root{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-400:oklch(70.4% 0.191 22.216);--color-red-500:oklch(63.7% 0.237 25.331);--color-green-500:oklch(72.3% 0.219 149.579);--color-black:#000;--color-white:#fff;--spacing:0.25rem;--text-sm:0.875rem;--text-sm--line-height:calc(1.25 / 0.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75 / 1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75 / 1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2 / 1.5);--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--radius-md:0.375rem;--radius-lg:0.5rem;--animate-spin:spin 1s linear infinite;--blur-sm:8px;--default-transition-duration:150ms;--default-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,::after,::backdrop,::before,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}menu,ol,ul{list-style:none}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}::file-selector-button,button,input,optgroup,select,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){::placeholder{color:currentcolor}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-meridiem-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-year-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}::file-selector-button,button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.top-0{top:calc(var(--spacing) * 0)}.bottom-0{bottom:calc(var(--spacing) * 0)}.left-0{left:calc(var(--spacing) * 0)}.z-50{z-index:50}.container{width:100%}.mb-2{margin-bottom:calc(var(--spacing) * 2)}.mb-6{margin-bottom:calc(var(--spacing) * 6)}.\!ml-3{margin-left:calc(var(--spacing) * 3)!important}.ml-2{margin-left:calc(var(--spacing) * 2)}.\!flex{display:flex!important}.block{display:block}.contents{display:contents}.flex{display:flex}.hidden{display:none}.inline{display:inline}.table{display:table}.h-5{height:calc(var(--spacing) * 5)}.h-6{height:calc(var(--spacing) * 6)}.h-12{height:calc(var(--spacing) * 12)}.h-20{height:calc(var(--spacing) * 20)}.h-\[500px\]{height:500px}.\!min-h-8{min-height:calc(var(--spacing) * 8)!important}.w-5{width:calc(var(--spacing) * 5)}.w-6{width:calc(var(--spacing) * 6)}.w-12{width:calc(var(--spacing) * 12)}.w-20{width:calc(var(--spacing) * 20)}.w-full{width:100%}.min-w-0{min-width:calc(var(--spacing) * 0)}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.animate-spin{animation:var(--animate-spin)}.\!cursor-pointer{cursor:pointer!important}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.\!items-center{align-items:center!important}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.\!gap-2\.5{gap:calc(var(--spacing) * 2.5)!important}.gap-3{gap:calc(var(--spacing) * 3)}.gap-6{gap:calc(var(--spacing) * 6)}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-auto{overflow:auto}.\!rounded-full{border-radius:calc(infinity * 1px)!important}.rounded{border-radius:.25rem}.rounded-full{border-radius:calc(infinity * 1px)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.\!border{border-style:var(--tw-border-style)!important;border-width:1px!important}.\!border-0{border-style:var(--tw-border-style)!important;border-width:0!important}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-none{--tw-border-style:none;border-style:none}.\!border-\[\#727272\]{border-color:#727272!important}.border-white\/10{border-color:color-mix(in srgb,#fff 10%,transparent)}.\!bg-transparent{background-color:transparent!important}.bg-black\/20{background-color:color-mix(in srgb,#000 20%,transparent)}.bg-white\/10{background-color:color-mix(in srgb,#fff 10%,transparent)}.\!p-2{padding:calc(var(--spacing) * 2)!important}.p-2{padding:calc(var(--spacing) * 2)}.p-3{padding:calc(var(--spacing) * 3)}.p-4{padding:calc(var(--spacing) * 4)}.p-6{padding:calc(var(--spacing) * 6)}.p-8{padding:calc(var(--spacing) * 8)}.\!px-\[15px\]{padding-inline:15px!important}.\!py-2\.5{padding-block:calc(var(--spacing) * 2.5)!important}.py-4{padding-block:calc(var(--spacing) * 4)}.py-12{padding-block:calc(var(--spacing) * 12)}.pr-4{padding-right:calc(var(--spacing) * 4)}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading, var(--text-2xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading, var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading, var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading, var(--text-xl--line-height))}.text-\[0\.5rem\]{font-size:.5rem}.\!font-bold{--tw-font-weight:var(--font-weight-bold)!important;font-weight:var(--font-weight-bold)!important}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.\!text-\[rgba\(var\(--spice-rgb-text\)\,0\.3\)\]{color:rgba(var(--spice-rgb-text),.3)!important}.\!text-\[var\(--spice-text\)\]{color:var(--spice-text)!important}.text-\[var\(--spice-text\)\]{color:var(--spice-text)}.text-green-500{color:var(--color-green-500)}.text-red-500{color:var(--color-red-500)}.text-white{color:var(--color-white)}.text-white\/20{color:color-mix(in srgb,#fff 20%,transparent)}.uppercase{text-transform:uppercase}.opacity-70{opacity:70%}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.\!transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration, var(--default-transition-duration))!important}.\!transition-transform{transition-property:transform,translate,scale,rotate!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration, var(--default-transition-duration))!important}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration, var(--default-transition-duration))}.\!duration-\[33ms\]{--tw-duration:33ms!important;transition-duration:33ms!important}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,::after,::backdrop,::before{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-font-weight:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}/*! tailwindcss v4.1.9 | MIT License | https://tailwindcss.com */
      `.trim(),document.head.appendChild(e))})()})();